From d2398562af8387f8d1b20003c0a4f3aec1071635 Mon Sep 17 00:00:00 2001
From: Philippe Simons <simons.philippe@gmail.com>
Date: Thu, 5 Dec 2024 23:47:56 +0100
Subject: [PATCH] set menu button as wakeup event

---
 .../boot/dts/allwinner/sun50i-h700-anbernic-rg35xx-2024.dts    | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/arch/arm64/boot/dts/allwinner/sun50i-h700-anbernic-rg35xx-2024.dts b/arch/arm64/boot/dts/allwinner/sun50i-h700-anbernic-rg35xx-2024.dts
index 80ccab7b5..331d611d5 100644
--- a/arch/arm64/boot/dts/allwinner/sun50i-h700-anbernic-rg35xx-2024.dts
+++ b/arch/arm64/boot/dts/allwinner/sun50i-h700-anbernic-rg35xx-2024.dts
@@ -8,6 +8,7 @@
 #include "sun50i-h616.dtsi"
 #include "sun50i-h616-cpu-opp.dtsi"
 #include <dt-bindings/gpio/gpio.h>
+#include <dt-bindings/input/gpio-keys.h>
 #include <dt-bindings/input/linux-event-codes.h>
 #include <dt-bindings/interrupt-controller/arm-gic.h>
 #include <dt-bindings/leds/common.h>
@@ -81,6 +82,8 @@ button-menu {
 			gpios = <&pio 4 3 GPIO_ACTIVE_LOW>; /* PE3 */
 			linux,input-type = <EV_KEY>;
 			linux,code = <BTN_MODE>;
+			wakeup-event-action = <EV_ACT_DEASSERTED>;
+			wakeup-source;
 		};
 
 		button-r1 {
-- 
2.47.1

